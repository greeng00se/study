> Joshua Blochλ‹μ Effective Java 3/Eλ¥Ό μ½κ³  μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.
> 

## ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

- ν•„μ”ν• μ©λ„μ— λ§λ” ν•¨μν• μΈν„°νμ΄μ¤κ°€ μλ‹¤λ©΄, μ§μ ‘ κµ¬ν„ν•μ§€ λ§κ³  ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
- ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ° APIλ¥Ό λ‹¤λ£¨λ” κ²½μ° ν•„μ”ν• κ°λ…μ μκ°€ μ μ–΄μ§„λ‹¤.
    - λ”°λΌμ„ ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ μµνκΈ° μ‰¬μ›μ§„λ‹¤.

> π“Β ν•¨μν• μΈν„°νμ΄μ¤(functional interface)
> 
> - ν•¨μν• μΈν„°νμ΄μ¤λ” μ •ν™•ν ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ§€μ •ν•λ” μΈν„°νμ΄μ¤λ‹¤.
> - λ””ν΄νΈ λ©”μ„λ“κ°€ μ—¬λ¬ κ° μλ”λΌλ„ μ¶”μƒ λ©”μ„λ“κ°€ ν•λ‚λΌλ©΄ ν•¨μν• μΈν„°νμ΄μ¤λ‹¤.

## ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤

- ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ” μλ°” 8λ¶€ν„° ν‘μ¤€ APIλ΅ μ κ³µν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ‹¤.
    - `java.tuil.function` ν¨ν‚¤μ§€μ— ν¬ν•¨λμ–΄ μλ‹¤.
- ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ” κ°κ° `int`, `long`, `double` λ³€ν•μ΄ μ΅΄μ¬ν•λ‹¤.
- ν•¨μν• μΈν„°νμ΄μ¤ λ€λ¶€λ¶„μ€ κΈ°λ³Έ νƒ€μ…λ§ μ§€μ›ν•λ‹¤. λ°•μ‹±λ κΈ°λ³Έ νƒ€μ…μ„ μ‚¬μ©ν•  κ²½μ° μ„±λ¥μ΄ μ €ν•λ  μ μλ‹¤.

![image](https://user-images.githubusercontent.com/58586537/175435267-39d9d17a-0127-4be8-851b-38aae792da34.png)

### Operator

- λ€ν‘μ μΌλ΅ κ°’μ„ ν•λ‚ λ°›λ” `UnaryOperator`μ™€ κ°’μ„ λ‘κ° λ°›λ” `BinaryOperator`κ°€ μλ‹¤.
- μ…λ ¥κ°’μ νƒ€μ…κ³Ό μ¶λ ¥κ°’μ νƒ€μ…μ΄ λ™μΌν•λ‹¤.

```java
@Test
void operator() {
    UnaryOperator<String> unaryOperator = String::toLowerCase;
    assertThat(unaryOperator.apply("APPLE")).isEqualTo("apple");

    BinaryOperator<Integer> binaryOperator = Integer::max;
    assertThat(binaryOperator.apply(5, 10)).isEqualTo(10);
}
```

### Predicate

- μΈμ ν•λ‚λ¥Ό λ°›μ•„ `boolean`μ„ λ°ν™ν•λ‹¤.
- μΈμλ¥Ό 2κ° λ°›λ” λ³€ν•μΈ `BiPredicate`κ°€ μ΅΄μ¬ν•λ‹¤.

```java
@Test
void predicate() {
    Predicate<Collection> predicate = Collection::isEmpty;
    assertThat(predicate.test(new ArrayList())).isTrue();

    // ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ” κ°κ° int, long, double λ³€ν•μ΄ μ΅΄μ¬ν•λ‹¤.
    IntPredicate intPredicate = x -> x < 5;
    assertThat(intPredicate.test(10)).isFalse();

    // μΈμλ¥Ό λ‘ κ° λ°›λ” λ³€ν•
    BiPredicate<Integer, Integer> biPredicate = (x, y) -> x + y < 10;
    assertThat(biPredicate.test(3, 4)).isTrue();
}
```

### Function

- μΈμμ™€ λ°ν™ νƒ€μ…μ΄ λ‹¤λ¥΄λ‹¤.
- μ…λ ¥κ³Ό κ²°κ³Ό νƒ€μ…μ΄ λ¨λ‘ κΈ°λ³Έ νƒ€μ…μΈ λ³€ν•μ΄ 6κ° μ΅΄μ¬ν•κ³  μ ‘λ‘μ–΄λ΅ `SrcToResult`λ¥Ό μ‚¬μ©ν•λ‹¤.
    - μ) `IntToLongFunction`, `DoubleToIntFunction`
- μ…λ ¥μ΄ κ°μ²΄ μ°Έμ΅°μ΄κ³  κ²°κ³Όκ°€ κΈ°λ³Έ νƒ€μ…μΈ λ³€ν•μ΄ 3κ° μ΅΄μ¬ν•κ³  μ ‘λ‘μ–΄λ΅ `ToResult`λ¥Ό μ‚¬μ©ν•λ‹¤.
    - μ) `ToLongFunction`, `ToIntFunction`
- μΈμ λ‘κ°λ¥Ό λ°›λ” λ³€ν•μ΄ μ΅΄μ¬ν•κ³ , λ κ·Έ μ¤‘ κΈ°λ³Έ νƒ€μ…μ„ λ°ν™ν•λ” λ³€κ²½μ΄ 3κ° μ΅΄μ¬ν•λ‹¤.
    - μ) `BiFunction`, `ToIntBiFunction`

```java
@Test
void function() {
    Function<String, Integer> function = Integer::valueOf;
    assertThat(function.apply("15")).isEqualTo(15);

    // doubleμ„ λ°›μ•„ intλ¥Ό λ°ν™ν•λ” λ³€ν•
    DoubleToIntFunction doubleToIntFunction = x -> (int) x;
    assertThat(doubleToIntFunction.applyAsInt(23.45)).isEqualTo(23);
}
```

### Supplier

- μΈμλ¥Ό λ°›μ§€ μ•κ³  κ°’μ„ λ°ν™ν•λ‹¤.
- booleanμ„ λ°ν™ν•λ” λ³€ν•μΈ `BooleanSupplier`κ°€ μ΅΄μ¬ν•λ‹¤.

```java
@Test
void supplier() {
    Supplier supplier = () -> 5000L;
    assertThat(supplier.get()).isEqualTo(5000L);

    // boolean κ°’μ„ λ°ν™ν•λ” λ³€ν•
    BooleanSupplier booleanSupplier = () -> false;
    assertThat(booleanSupplier.getAsBoolean()).isFalse();
}
```

### Consumer

- μΈμλ¥Ό ν•λ‚ λ°›κ³  κ°’μ„ λ°ν™ν•μ§€ μ•λ”λ‹¤.
- κ°μ²΄ μ°Έμ΅° ν•λ‚μ™€ κΈ°λ³Έ νƒ€μ… ν•λ‚λ¥Ό λ°›λ” λ³€ν•μ΄ 3κ° μ΅΄μ¬ν•λ‹¤.
    - μ) `ObjIntConsumer`, `ObjDoubleConsumer`

```java
@Test
void consumer() {
    Consumer consumer = System.out::println;
    consumer.accept("HELLO WORLD");

    // κ°μ²΄μ™€ κΈ°λ³Έ νƒ€μ…μ„ λ°›λ” λ³€ν•
    ObjIntConsumer objIntConsumer = (x, y) -> System.out.println(x + " " + y);
    objIntConsumer.accept("Hello", 365);
}
```

## ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©μ‹ μ°Έκ³ 

### μ „μ© ν•¨μν• μΈν„°νμ΄μ¤ μ‘μ„±μ„ κ³ λ ¤ν•λΌ

- κµ¬μ΅°μ μΌλ΅ λ‘κ°™μ€ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤κ°€ μ΅΄μ¬ν•¨μ—λ„ μ§μ ‘ μ‘μ„±μ„ ν•΄μ•Όν•λ” κ²½μ°κ°€ μλ‹¤.
- `Comparator<T>`μ κ²½μ° κµ¬μ΅°μ μΌλ΅ `ToIntBiFunction<T, U>`μ™€ λ™μΌν•λ‹¤. ν•μ§€λ§ APIμ—μ„ μμ£Ό μ‚¬μ©λκ³ , κ·μ•½μ„ λ‹΄κ³  μκ³ , μ μ©ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό λ‹΄κ³  μκΈ° λ•λ¬Έμ— μ‚¬μ©λλ‹¤.
- λ‹¤μκ³Ό κ°™μ€ κ²½μ°κ°€ μ΅΄μ¬ν•λ‹¤λ©΄ μ§μ ‘ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‘μ„±ν•λ” κ²ƒμ„ κ³ λ ¤ν•  ν•„μ”κ°€ μλ‹¤.
    - μμ£Ό μ‚¬μ©λλ©°, μ΄λ¦„ μμ²΄κ°€ μ©λ„λ¥Ό λ…ν™•ν μ„¤λ…ν•΄μ£Όλ” κ²½μ°
    - λ°λ“μ‹ λ”°λΌμ•Ό ν•λ” κ·μ•½μ΄ μ΅΄μ¬ν•λ” κ²½μ°
    - μ μ©ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•  μ μλ” κ²½μ°
- ν•¨μν• μΈν„°νμ΄μ¤λ„ μ—„μ—°ν μΈν„°νμ΄μ¤λ‹¤. λ”°λΌμ„ μ£Όμν•΄μ„ μ„¤κ³„ν•΄μ•Ό ν•λ‹¤.

### @FunctionalInterface

- μ§μ ‘ λ§λ“  ν•¨μν• μΈν„°νμ΄μ¤μ—λ” ν•­μƒ `@FunctionalInterface` μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
- `@Override`λ¥Ό μ‚¬μ©ν•λ” μ΄μ μ™€ λΉ„μ·ν•κ³  λ‹¤μκ³Ό κ°™μ΄ ν¬κ² μ„Έ κ°€μ§€ λ©μ μ΄ μλ‹¤.
    - ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” μ‚¬μ©μμ—κ² λλ‹¤μ©μΌλ΅ μ„¤κ³„λ κ²ƒμ„μ„ μ•λ ¤μ¤€λ‹¤.
    - μ¶”μƒ λ©”μ„λ“λ¥Ό ν•λ‚λ§ κ°€μ§€κ³  μμ–΄μ•Ό μ»΄νμΌλκ² ν•΄μ¤€λ‹¤.
    - μ μ§€λ³΄μ κ³Όμ •μ—μ„ μ‹¤μλ΅ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•μ§€ λ»ν•κ² λ§λ“¤μ–΄μ¤€λ‹¤.

### ν•¨μν• μΈν„°νμ΄μ¤ μ‚¬μ©μ‹ μ£Όμμ 

- ExcutorServiceμ κ²½μ° `submit()` λ©”μ„λ“κ°€ λ‹¤μ¤‘μ •μ λμ–΄μλ‹¤.

```java
public interface ExecutorService extends Executor {
    <T> Future<T> submit(Callable<T> task);
    Future<?> submit(Runnable task);
}
```

- μ„λ΅ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κ°™μ€ μ„μΉμ μΈμλ΅ λ°›λ” λ©”μ„λ“λ“¤μ„ λ‹¤μ¤‘μ •μν•΄μ„λ” μ•λλ‹¤.
- λ‹¤μ¤‘μ •μλ¥Ό ν”Όν•κ³  λ‹¤λ¥Έ λ©”μ„λ“λ…μ„ μ‚¬μ©ν•μ

## μ •λ¦¬

- ν•„μ”ν• μ©λ„μ— λ§λ” ν•¨μν• μΈν„°νμ΄μ¤κ°€ μλ‹¤λ©΄ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•μ.
- ν•„μ”ν• κ²½μ° μ „μ© ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ„ κ³ λ ¤ν•κ³  κΌ­ `@FunctionalInterface` μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν•μ.