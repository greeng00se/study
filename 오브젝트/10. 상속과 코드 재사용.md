> 오브젝트를 읽고 정리한 글입니다.
>

### 개요

- 클래스를 재사용하기 위해 새로운 클래스를 추가하는 대표적인 기법인 상속에 대해 알아보기

### 상속과 중복 코드

- 개별 통화 기간을 저장하는 Call 클래스와 통화 기간 목록을 관리하는 Phone 클래스를 구현하였다.
- 심야시간 요금을 계산하는 클래스를 추가하기 위해 Phone 클래스를 상속하여 NightlyDiscountPhone 클래스를 구현하였다.
- 이런 방법에는 어떤 문제가 있을까?

### 상속의 문제점

- 상속은 기본적으로 자식 클래스가 부모 클래스의 구현 세부사항에 의존하게 만들기 때문에 캡슐화를 약화시키고, 결합도를 높인다.
- 취약한 기반 클래스 문제
    - 구현을 상속하였을 때 파생 클래스의 경우 기반 클래스에 강하게 결합되는 것
    - 가능 확장에는 용이, 높은 결합도로 인해 부모 클래스를 개선하는 것은 어렵게 만든다.
    - 기반 클래스의 작은 변경이 파생 클래스에 영향을 미칠 수 있다.
- 불필요한 인터페이스 상속 문제
    - 상속받은 부모 클래스의 메서드가 자식 클래스의 내부 구조에 대한 규칙을 깨트릴 수 있다.
    - Vector ← Stack
        - Vector를 상속 받았기에 LIFO구조를 가지고 있는 스택의 맨 앞의 위치에 요소를 추가할 수 있게 됨
    - Hashtable ← Properties
        - String의 키와 값을 가지는 Properties가 Hashtable의 인터페이스에 포함되어있는 put메서드를 이용하여 String타입 이외의 값도 저장할 수 있게 됨
- 메서드 오버라이딩의 오작용 문제
    - 자식 클래스가 부모 클래스의 메서드를 오버라이딩할 경우 부모 클래스가 자신의 메서드를 사용하는 방법에 자식 클래스가 결합될 수 있다.
    - 이펙티브 자바의 예시로 상위 클래스의 자기 사용 여부(자신의 메서드를 재호출하는)를 알 수 없기 때문에 발생하는 문제
- 부모 클래스와 자식 클래스의 동시 수정 문제
    - 클래스를 상속하면 결합도로 인해 구현을 변경하지 않거나, 동시에 변경하거나 둘 중 하나를 선택해야 한다.

### 상속을 도입하는 방법

- 차이점을 메서드로 추출한다. → 변하지 않는 것을 분리하라
- 자식 클래스의 중복되는 코드를 부모 클래스로 올린다.
- 3절에서는 추상화를 이용하여 결합도를 최대한 줄이고 있다.

### 정리

- 상속은 중복 코드를 제거하는 강력한 방법 중 하나지만 오용한다면 애플리케이션을 확장하기 어렵게 만든다.
- 대부분의 경우 상속보단 합성을 사용하는 것이 좋다.