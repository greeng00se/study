> 오브젝트를 읽고 정리한 글입니다.
> 

### 개요

- 2장에서는 영화 예매 시스템을 이용하여 객체지향 프로그래밍에 대해 설명을 하고 있습니다.

### 객체지향 프로그래밍을 하는 방법

- 클래스보다 어떤 객체들이 필요한지 고민해야합니다.
- 객체를 기능을 구현하기 위해 협력하는 공동체의 일원으로 봐야합니다.

### 클래스를 구현하는 방법

- 가장 중요한 것은 경계를 구분 짓는 것입니다.
- 외부의 공개할 부분과 감출 부분을 명확하게 결정해야 합니다.

### 자율적인 객체

- 객체는 상태와 행동으로 이루어집니다.
- 객체는 스스로 판단하고 행동하는 자율적인 존재입니다.
- 객체 지향언어들은 캡슐화와 접근 제어 매커니즘을 지원합니다.
    - 캡슐화는 데이터와 기능을 객체 내부로 묶는 것입니다.
- 객체가 스스로 상태관리, 판단, 행동을 위해서는 외부의 간섭을 최소화해야 합니다.
    - 자율적인 객체를 위해 접근제어가 이를 도와줍니다.
- 캡슐화와 접근제어는 객체를 두 부분으로 분리합니다. 이를 인터페이스와 구현의 분리 원칙이라고 합니다.
    - 외부에서 접근 가능한 퍼블릭 인터페이스
    - 내부에서만 접근 가능한 구현

### 협력

- 객체는 외부에 공개한 퍼블릭 인터페이스를 통해 서로 협력합니다.
- 다른 객체의 인터페이스를 통해 행동을 수행하도록 하는 것을 요청이라고 합니다.
- 요청을 받은 객체는 자율적인 방법으로 요청을 처리하고 응답합니다.
- 객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 메시지를 전송하는 것입니다.
- 다른 객체에게 요청이 도착할 때 해당 객체가 메시지를 수신했다고 합니다.
- 수신된 메시지를 처리하기 위한 객체 자신의 방법을 메서드라고 합니다.

### 다형성

- 책의 예제에서 영화 클래스는 할인정책 클래스에게 메시지를 전송하지만 실행 시점에 실행되는 메서드는 협력하는 객체의 실제 클래스에 따라 달라집니다.
- 동일한 메시지를 전송하지만 메시지를 수신하는 객체의 클래스에 따라 실행되는 메서드가 달라지는 것을 다형성이라고합니다.

### 코드를 재사용하기 위한 방법

- 상속과 합성은 코드를 재사용하기 위해 널리 사용하는 방법 중 하나입니다.
- 영화 클래스는 상속이 아닌 합성을 사용하여 할인정책에 대한 코드를 재사용하고 있습니다.

### 상속의 단점

- 캡슐화가 약화됩니다.
    - 상속을 사용한다면 부모 클래스의 구현이 자식 클래스에게 노출(protected의 경우)됩니다. 이는 캡슐화를 약화시킵니다.
    - 캡슐화가 약화된다면 부모와 자식 클래스간의 강결합 상태가 되고, 이는 변경을 어렵게 만듭니다.
- 유연하지 않습니다.
    - 상속을 사용한다면 컴파일 시점에서 관계가 결정되기 때문에 실행시점에서 객체의 종류를 변경할 수 없습니다.

### 상속의 대안

- 합성을 통해서 상속이 가진 단점을 해결할 수 있습니다.
- 합성은 중복되는 로직들을 갖는 객체를 구현한 다음, 해당 객체를 주입받아 중복 로직을 호출함으로 퍼블릭 인터페이스를 재사용하는 방법입니다.
- 인터페이스에 정의된 메시지를 통해서 재사용하기 때문에 캡슐화가 약화되지 않고, 의존하는 인스턴스를 쉽게 교체가능합니다.