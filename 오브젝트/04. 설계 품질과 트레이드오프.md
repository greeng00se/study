> 오브젝트를 읽고 정리한 글입니다.
> 

### 개요

- 4장에서는 데이터 중심의 설계를 할 경우 발생하는 문제에 대해 설명하고 있습니다.

### 세 가지 품질 척도

- 캡슐화
    - 외부에서 알 필요가 없는 부분을 감춤으로써 대상을 단순화
    - 응집도와 결합도는 캡슐화의 정도에 영향을 받습니다.
- 응집도
    - 모듈에 포함된 내부 요소들이 연관되어 있는 정도
    - 변경의 관점 → 변경이 발생할 때 모듈 내부에서 발생하는 변경의 정도
    - 😀 높은 응집도, 😡 낮은 응집도
- 결합도
    - 의존성의 정도, 다른 모듈에 대해서 얼마나 알고 있는지 나타내는 척도
    - 변경의 관점 → 한 모듈이 변경되기 위해서 다른 모듈의 변경을 요구하는 정도
    - 😀 낮은 결합도, 😡 높은 결합도

### 데이터 중심의 설계의 문제점

- 캡슐화 위반
    - 접근자와 수정자를 통해 객체 내부의 데이터를 노출하고 있기 때문에 외부에서 값에 대한 직접적인 접근이 가능합니다.
    - 4장에서 `Movie` 클래스는 할인 정책에 따라 금액을 계산하는 3종류의 메서드를 가지고 있습니다.
        - 외부에서 3종류의 금액 할인 정책이 존재한다는 것을 알 수 있습니다.
        - 위 메서드가 제거된다면 의존하는 모든 클라이언트가 영향을 받습니다.
- 높은 결합도
    - 개선 전 4장의 코드에서 제어 객체가 모든 데이터 객체에 의존하고 있습니다.
    - 다른 객체의 변경사항이 있는 경우 → 제어 객체의 코드 변경을 유발합니다.
- 낮은 응집도
    - 하나의 변경을 수용하기 위해 여러 곳의 코드를 변경해야 합니다.

### 데이터 중심의 설계가 변경에 취약한 이유

- 행동보다는 상태 초점을 맞추기 때문입니다.
    - 너무 이른 시기에 데이터에 관해 고민하기 때문에 캡슐화에 실패하게 됩니다.
    - 객체의 내부 구현이 객체의 인터페이스를 어지럽히고, 응집도와 결합도에 나쁜 영향을 미칩니다.
- 객체를 고립시킨 채 오퍼레이션을 정의하도록 합니다.
    - 객체지향 설계는 객체간의 협력에 무게 중심이 맞춰져 있어야 합니다.
    - 협력에 대한 깊이 있는 고민 없이 데이터를 먼저 생각하기 때문에 문제가 발생합니다.