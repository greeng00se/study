# 11. 합성과 유연한 설계

### 합성

- 전체를 표현하는 객체가 부분을 표현하는 객체를 포함해서 부분 객체의 코드를 재사용하는 방법이다.
- 구현에 의존하지 않고 퍼블릭 인터페이스에 의존한다.

### 10장의 문제

- 불필요한 인터페이스 상속 문제
    - Properties 클래스에서 Hashtable을 인스턴스 변수로 포함시키면 합성 관계로 변경하여 해결 가능
    - Stack과 Vector도 마찬가지
- 메서드 오버라이딩의 오작용 문제
    - 마찬가지로 Set을 인스턴스 변수로 포함시켜 메서드 호출을 그대로 전달한다면 문제를 해결할 수 있다.
- 부모 클래스와 자식 클래스의 동시 수정 문제
    - 합성을 사용하는 방법이 좋다.

### 상속 사용의 문제점

- 기능을 추가할 때 불필요한 많은 클래스를 추가해야 한다. → 클래스 폭발
- 단일 상속만 지원하는 언어에서는 상속으로 코드의 양이 늘어날 수 있다.

### 합성 사용

- 상속과 달리 합성 관계는 런타임에 동적으로 변경할 수 있다.
- 따라서 객체들의 관계를 유연하게 변경시킬 수 있다.

### 믹스인

- 객체를 생성할 때 코드 일부를 클래스 안에 섞어 넣어 재사용하는 방법